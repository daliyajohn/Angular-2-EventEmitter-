"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var gulp = require("gulp");
var util = require("gulp-util");
var runSequence = require("run-sequence");
var config_1 = require("./tools/config");
var utils_1 = require("./tools/utils");
utils_1.loadTasks(config_1.default.SEED_TASKS_DIR);
utils_1.loadTasks(config_1.default.PROJECT_TASKS_DIR);
utils_1.loadCompositeTasks(config_1.default.SEED_COMPOSITE_TASKS, config_1.default.PROJECT_COMPOSITE_TASKS);
var firstRun = true;
gulp.task('clean.once', function (done) {
    if (firstRun) {
        firstRun = false;
        runSequence('check.tools', 'clean.dev', 'clean.coverage', done);
    }
    else {
        util.log('Skipping clean on rebuild');
        done();
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21lZGlhL2RhbGl5YS9DMjcyRDdGRTcyRDdGNTVGL0dpdGh1YiBwcm9qZWN0cy9Bbmd1bGFyLTItRXZlbnRFbWl0dGVyLS9ndWxwZmlsZS50cyIsInNvdXJjZXMiOlsiL21lZGlhL2RhbGl5YS9DMjcyRDdGRTcyRDdGNTVGL0dpdGh1YiBwcm9qZWN0cy9Bbmd1bGFyLTItRXZlbnRFbWl0dGVyLS9ndWxwZmlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJCQUE2QjtBQUM3QixnQ0FBa0M7QUFDbEMsMENBQTRDO0FBRTVDLHlDQUFvQztBQUNwQyx1Q0FBOEQ7QUFHOUQsaUJBQVMsQ0FBQyxnQkFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ2pDLGlCQUFTLENBQUMsZ0JBQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBRXBDLDBCQUFrQixDQUFDLGdCQUFNLENBQUMsb0JBQW9CLEVBQUUsZ0JBQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBTWhGLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztBQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxVQUFDLElBQVM7SUFDaEMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNiLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDakIsV0FBVyxDQUFDLGFBQWEsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sSUFBSSxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQ3RDLElBQUksRUFBRSxDQUFDO0lBQ1QsQ0FBQztBQUNILENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZ3VscCBmcm9tICdndWxwJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnZ3VscC11dGlsJztcbmltcG9ydCAqIGFzIHJ1blNlcXVlbmNlIGZyb20gJ3J1bi1zZXF1ZW5jZSc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi90b29scy9jb25maWcnO1xuaW1wb3J0IHsgbG9hZFRhc2tzLCBsb2FkQ29tcG9zaXRlVGFza3MgfSBmcm9tICcuL3Rvb2xzL3V0aWxzJztcblxuXG5sb2FkVGFza3MoQ29uZmlnLlNFRURfVEFTS1NfRElSKTtcbmxvYWRUYXNrcyhDb25maWcuUFJPSkVDVF9UQVNLU19ESVIpO1xuXG5sb2FkQ29tcG9zaXRlVGFza3MoQ29uZmlnLlNFRURfQ09NUE9TSVRFX1RBU0tTLCBDb25maWcuUFJPSkVDVF9DT01QT1NJVEVfVEFTS1MpO1xuXG5cbi8vIC0tLS0tLS0tLS0tLS0tXG4vLyBDbGVhbiBkZXYvY292ZXJhZ2UgdGhhdCB3aWxsIG9ubHkgcnVuIG9uY2Vcbi8vIHRoaXMgcHJldmVudHMga2FybWEgd2F0Y2hlcnMgZnJvbSBiZWluZyBicm9rZW4gd2hlbiBkaXJlY3RvcmllcyBhcmUgZGVsZXRlZFxubGV0IGZpcnN0UnVuID0gdHJ1ZTtcbmd1bHAudGFzaygnY2xlYW4ub25jZScsIChkb25lOiBhbnkpID0+IHtcbiAgaWYgKGZpcnN0UnVuKSB7XG4gICAgZmlyc3RSdW4gPSBmYWxzZTtcbiAgICBydW5TZXF1ZW5jZSgnY2hlY2sudG9vbHMnLCAnY2xlYW4uZGV2JywgJ2NsZWFuLmNvdmVyYWdlJywgZG9uZSk7XG4gIH0gZWxzZSB7XG4gICAgdXRpbC5sb2coJ1NraXBwaW5nIGNsZWFuIG9uIHJlYnVpbGQnKTtcbiAgICBkb25lKCk7XG4gIH1cbn0pO1xuXG4iXX0=